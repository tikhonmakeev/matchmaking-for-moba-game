В игре сталкиваются две команды из пяти игроков. Каждая команда состоит из пяти
ролей: верхняя (top), средняя (mid), нижняя (bot), поддержка (sup), лес (jungle).

### Задача

Создать сервис, который бы подбирал игроков в команду на основе их предпочтений и MMR

Для этого нужно учитывать метрики:

- MМР — Matchmaking Rating (рейтинг игрока, полученный в процессе игры), числовой эквивалент навыков игрока;
- Проранжированный список позиций;
- Время ожидания в очереди.

Баллы выставляются по критериям:
- Честность матча = разница медиан между рейтингами команд + сумма разниц в mmr по ролям.
  - [Ссылка на пример подсчёта](https://docs.google.com/spreadsheets/d/1dsavn30sd9B6QUk5k4XVJaQLprVCFzV72cCBOjWmtkM/edit?usp=sharing)
- Предпочитаемая позиция = сумма значений удовлетворенности игроков
  - 3, если игрок на первой в списке
  - 5, если на второй в списке
  - 8, если на третьей в списке
  - 13, если на четвертой в списке
  - 21, если на пятой в списке
- Скорость поиска = сумма всего времени ожидания, с учётом пауз между эпохами
  - Время считается в секундах
  - Паузы между эпохами разные и их значение вам не будет известно

# Работа программы

Запускается [app.py](matchmaking/app.py) с напрямую или с помощью `docker-compose -f "docker-compose.yml" up --build --abort-on-container-exit `

Пусть у вас есть сервер на `http://server`
# [Документация](docs/api_description.md)

Логика взаимодействия с сервером:

1) Отправляете GET запрос на `/matchmaking/users` с параметрами `test_name` и `epoch`
2) Распределяете полученных пользователей по командам
3) Отправка POST запроса на `/matchmaking/match` с параметрами `test_name` и `epoch` и данными о командах. В ответе
   получаете `new_epoch`, который теперь используете в новых запросах и `is_last_epoch`.
4) Повторяете пункты 1-3, пока `is_last_epoch` не будет равен `true`
5) Повторяете, пока не закончатся тесты


Суть алгоритма:
- Сортирует полную очередь игроков с учетом новых пришедших по рейтингу MMR,
- Распределяет по "рангам" — группам по разнице в 400 очков,
- Берет по 10 человек нисходя по рангу,
- [Венгерским алгоритмом](https://habr.com/ru/articles/422009/) распределяет роли для наилучшего соответствия предпочтениям игроков


Так пока в очереди не останется менее 10 игроков: в таком случае запрашиваем новую эпоху с игроками
После финальной эпохи может остаться не более 9 игроков
